
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <string.h>

#include "naloga3.h"

Notranje* zgradi(int* t, int n) {
    Notranje* prvo = NULL;
    Notranje* zadnje = NULL;
    for (int i = 0; i < n; i++) {
        Notranje* v = calloc(1, sizeof(Notranje));
        v->podatek = t[i];
        if (prvo == NULL) {
            prvo = zadnje = v;
        } else {
            zadnje->desno = v;
            zadnje = zadnje->desno;
        }
    }
    return prvo;
}

void izpisiNotranje(Notranje* zacetek) {
    printf("[");
    Notranje* v = zacetek;
    while (v != NULL) {
        if (v != zacetek) {
            printf(", ");
        }
        printf("%d", v->podatek);
        v = v->desno;
    }
    printf("]");
}

void izpisiZunanje(Zunanje* glava) {
    printf("[");
    Zunanje* v = glava;
    while (v != NULL) {
        if (v != glava) {
            printf(", ");
        }
        izpisiNotranje(v->prvo);
        v = v->dol;
    }
    printf("]");
}

void pocistiNotranje(Notranje* prvo) {
    Notranje* v = prvo;
    while (v != NULL) {
        Notranje* brisi = v;
        v = v->desno;
        free(brisi);
    }
}

void pocistiZunanje(Zunanje* glava) {
    Zunanje* v = glava;
    while (v != NULL) {
        pocistiNotranje(v->prvo);
        Zunanje* brisi = v;
        v = v->dol;
        free(brisi);
    }
}

int TABELA[] = {1646, 5494, 4758, 6061, 7617, 2121, 4887, 8510, 7687, 657, 4319, 9986, 6505, 4563, 4041, 8616, 9974, 2092, 5898, 7838, 29, 7577, 9075, 7711, 9206, 5579, 5117, 964, 8679, 222, 5056, 6034, 7837, 9798, 6619, 4482, 7945, 2975, 1224, 7507, 5210, 7615, 9292, 67, 9561, 7756, 4104, 932, 9525, 1020, 5017, 8176, 9720, 7548, 2016, 7952, 5936, 5978, 6810, 7590, 8499, 205, 5600, 7727, 3937, 8004, 2981, 7986, 2484, 9851, 4827, 5647, 1676, 8922, 1390, 6920, 1643, 3102, 3972, 617, 9967, 2882, 2896, 4277, 5306, 2015, 2660, 1760, 4773, 2427, 6199, 4490, 5192, 6574, 6058, 5090, 346, 221, 3856, 2048, 8293, 5330, 8807, 7360, 635, 5841, 3046, 8193, 9709, 6342, 1592, 9202, 1589, 356, 9502, 9421, 7184, 3551, 4978, 5460, 8072, 5312, 8362, 5488, 2927, 4247, 9933, 958, 130, 7024, 6652, 2825, 9500, 1878, 7696, 4616, 5205, 9697, 1822, 3651, 8505, 6999, 7401, 28, 4408, 1323, 2972, 3118, 3816, 449, 6743, 4610, 3232, 2789, 3544, 2961, 6510, 1773, 273, 8301, 8365, 3637, 1027, 6487, 6356, 7059, 1191, 2406, 1945, 2122, 8707, 4800, 850, 837, 5358, 3277, 349, 5633, 812, 549, 8264, 1911, 4464, 8334, 7451, 1792, 3409, 3073, 6879, 7806, 9819, 9923, 5172, 6332, 7872, 8170, 3244, 1163, 8517, 3095, 5851, 9368, 2208, 5050, 9796, 5758, 39, 3381, 6527, 340, 315, 9217, 7140, 1564, 1152, 3817, 7040, 2850, 3980, 1758, 5947, 4235, 9979, 9619, 7246, 9113, 8347, 727, 4073, 968, 3253, 2752, 7269, 5751, 9232, 2008, 8174, 2380, 1443, 9966, 9257, 1463, 4601, 9847, 6936, 1269, 4050, 9690, 8626, 1516, 3376, 3051, 6242, 7895, 8640, 6159, 7475, 7016, 1742, 3587, 1029, 6831, 4038, 4561, 6813, 4803, 8968, 104, 8729, 3153, 4928, 9327, 3466, 4309, 9274, 3656, 639, 5557, 5452, 3039, 9046, 5771, 3755, 5324, 7536, 7486, 6947, 4838, 3449, 2648, 2518, 6915, 8700, 9014, 4801, 7950, 4153, 1032, 3789, 2578, 8118, 5385, 6108, 1508, 2805, 4741, 7271, 9109, 265, 8844, 7704, 2542, 1035, 4268, 2479, 4740, 5013, 4047, 5621, 595, 7456, 1734, 6632, 3245, 6115, 843, 5043, 3351, 8751, 1649, 5939, 7894, 941, 3284, 468, 2412, 2334, 947, 3839, 8031, 132, 9344, 4913, 9568, 8018, 7816, 4550, 3606, 834, 9930, 1663, 1173, 2299, 434, 3743, 2540, 2217, 2268, 2702, 8847, 8021, 2101, 9334, 4284, 828, 9584, 2354, 4703, 8260, 7739, 546, 3040, 2124, 2436, 97, 5746, 4861, 561, 4766, 3210, 3132, 4790, 2435, 1861, 8829, 8608, 8645, 7235, 8634, 5738, 7464, 7389, 6313, 2338, 3374, 3549, 4832, 2514, 1073, 2448, 8865, 2827, 826, 4225, 2394, 8560, 1969, 4636, 7167, 6540, 2018, 9662, 7362, 9443, 1441, 3422, 9948, 703, 2210, 2725, 4410, 9638, 8990, 5747, 1072, 4654, 8539, 8197, 8446, 1380, 3926, 2917, 9701, 6904, 6372, 7391, 1353, 5850, 5848, 111, 5862, 7421, 735, 2147, 4937, 7683, 9262, 6512, 5690, 9691, 9270, 875, 7031, 138, 6329, 6213, 3151, 983, 5260, 7694, 6952, 3701, 2630, 6518, 953, 3655, 3007, 7109, 1070, 332, 4742, 453, 8550, 9723, 4517, 3667, 8409, 1413, 9184, 9754, 4333, 9099, 2441, 9927, 3781, 5594, 3704, 6475, 7192, 2386, 7474, 3055, 8346, 4910, 3822, 5954, 8973, 5069, 3396, 7441, 2539, 5750, 3993, 9476, 8523, 3088, 8052, 1079, 2266, 1387, 325, 7574, 8689, 5444, 2835, 2144, 1465, 1127, 3524, 9177, 2877, 5827, 6396, 5315, 8601, 5520, 6727, 1631, 2878, 5125, 3646, 5834, 8034, 6626, 9161, 5759, 5761, 6235, 5820, 7540, 272, 5688, 6519, 180, 8850, 4203, 3335, 171, 8789, 8477, 7176, 1411, 804, 8817, 6878, 5951, 5873, 217, 8952, 2349, 6410, 4191, 9189, 1846, 9260, 2732, 8944, 3537, 4962, 4518, 8748, 530, 4193, 7076, 3192, 3224, 4584, 8444, 5333, 9167, 590, 2580, 1789, 7560, 1126, 9989, 9960, 4363, 8529, 1898, 1193, 6336, 2402, 5136, 5902, 3403, 9073, 6839, 9463, 3874, 8562, 835, 7081, 7944, 5373, 6772, 6961, 459, 7173, 359, 9996, 5783, 8075, 6533, 2352, 2443, 6649, 4676, 3500, 9578, 972, 2932, 3116, 6463, 9410, 1946, 6264, 7417, 801, 2609, 1372, 3981, 9888, 3302, 6287, 8256, 8418, 8132, 9558, 631, 1302, 2167, 5626, 6105, 3934, 418, 9877, 4430, 5760, 3496, 8492, 6086, 7887, 2495, 72, 1222, 6859, 5882, 5104, 734, 2826, 5583, 3673, 1002, 4628, 6686, 7019, 6630, 6671, 2855, 8177, 7533, 954, 6538, 1875, 2936, 8121, 5593, 3560, 7552, 1578, 6016, 9993, 6259, 1799, 8487, 8235, 2957, 9310, 7487, 5624, 5146, 8212, 4555, 6100, 1038, 4848, 8454, 4106, 576, 6611, 2052, 6268, 4412, 1705, 1866, 5075, 4447, 2361, 5202, 7249, 4881, 1970, 7088, 5648, 3872, 5781, 6504, 9924, 5455};

int main() {
    int n = sizeof(TABELA) / sizeof(int);

    Notranje* zacetek = zgradi(TABELA, n);

    printf("Vhod: ");
    izpisiNotranje(zacetek);
    printf("\n");

    Zunanje* glava = porazdeli(zacetek, 8);

    printf("Izhod: ");
    izpisiZunanje(glava);
    printf("\n");

    pocistiZunanje(glava);
    return 0;
}
